

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Overview &mdash; MMV Modern Military Vehicle System  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Create your own MBT Vehicle" href="creating_vehicle.html" />
    <link rel="prev" title="Introduction" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MMV Modern Military Vehicle System
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#modules">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#behaviour">Behaviour</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acceleration">Acceleration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aim-control">Aim Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#camera-control">Camera Control</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="creating_vehicle.html">Create your own MBT Vehicle</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MMV Modern Military Vehicle System</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<p>An <strong>MMV_vehicle</strong> is composed of modules, each module is responsible for controlling some component. An example
would be an MBT (Main Battle tank) vehicle that contains the modules <strong>MMV_MBT_Engine</strong>, <strong>MMV_MBT_WheelManager</strong>,
<strong>MMV_TurretController</strong>. The component <strong>MMV_MBT_Vehicle</strong>, the vehicle’s main physics script, contains all these
modules that work together, the data delivered by a given module are used by other modules making them
interconnected.</p>
<p>Below is a diagram that demonstrates how these modules are wired. The engine must deliver the left and right throttle
and brake force to the wheel manager. The manager must apply the suspension force and use the acceleration and brake
forces on the wheels.</p>
<div class="figure align-default">
<img alt="_images/mbt_overview_diagram.jpg" src="_images/mbt_overview_diagram.jpg" />
</div>
<p>There are specific forces for each side, as each track has its own acceleration and brake, increasing the force on
one side and decreasing it on the other can cause the vehicle to rotate, thus being a form of steering. How the move
works will be explained below.</p>
</div>
<div class="section" id="behaviour">
<h2>Behaviour<a class="headerlink" href="#behaviour" title="Permalink to this headline">¶</a></h2>
<div class="section" id="acceleration">
<h3>Acceleration<a class="headerlink" href="#acceleration" title="Permalink to this headline">¶</a></h3>
<p>The engine delivers different forces to each side of the wheels, left and right, acceleration left, right, left and
right brakes using inputs given by some controller, this controller tells the vehicle whether to go forward or
backward or to turn right and left.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Example code</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vehicle</span><span class="o">.</span><span class="n">Acceleration</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>   <span class="o">//</span> <span class="n">forward</span>
<span class="n">vehicle</span><span class="o">.</span><span class="n">Acceleration</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>  <span class="o">//</span> <span class="n">backward</span>

<span class="n">vehicle</span><span class="o">.</span><span class="n">Sterring</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>       <span class="o">//</span> <span class="n">left</span>
<span class="n">vehicle</span><span class="o">.</span><span class="n">Sterring</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>      <span class="o">//</span> <span class="n">right</span>
</pre></div>
</div>
<p>The movement consists of the more you accelerate, the less you should brake (or the more you brake, the less you should
accelerate). By changing the acceleration weights on each side we can change the direction in which the vehicle moves
or turns it.</p>
<div class="figure align-default">
<img alt="_images/mbt_directions_demo.svg" src="_images/mbt_directions_demo.svg" /></div>
<p>When configuring your vehicle, remember that the amount of front and side friction, amount of acceleration, acceleration
speed and brake force influence the rotation speed of the vehicle</p>
<div class="figure align-default">
<img alt="_images/mbt_movement_demo.gif" src="_images/mbt_movement_demo.gif" />
</div>
<p>motion representation</p>
</div>
<div class="section" id="aim-control">
<h3>Aim Control<a class="headerlink" href="#aim-control" title="Permalink to this headline">¶</a></h3>
<p>Most of the hard work of the fire controller has already been done, just create a custom controller (or use one that comes
with the system) to tell you where the target is, a global space position <code class="docutils literal notranslate"><span class="pre">Vector3</span></code> and that’s enough to the turret and
the cannon aim at the target</p>
<p>The aim is very precise and can hit targets even if the vehicle is at difficult angles and the rotation speed is always
constant.</p>
<div class="figure align-default">
<img alt="_images/vehicle_angle_gun_demo.svg" src="_images/vehicle_angle_gun_demo.svg" /></div>
<p>The tower has no rotation limit, 360° angle</p>
</div>
<div class="section" id="camera-control">
<h3>Camera Control<a class="headerlink" href="#camera-control" title="Permalink to this headline">¶</a></h3>
<p>The default camera controller already tells the turret where it should aim, and also shows in its UI a vector marker of the
front of the cannon to know where it’s aiming at the moment, it works the same way we see in games like world of tanks or war
thunder.</p>
<div class="figure align-default">
<img alt="_images/gun_aim_example.jpg" src="_images/gun_aim_example.jpg" />
</div>
<p>To make this marker work it was necessary to do a little more than take the cannon’s front position using raycasts and convert
it to screen space, that’s because Unity can’t return the exact position when the forward distance is too far, the values come
out completely different from what they were supposed to be.
To get around this, a raycast was done from the camera to the position of the front of the cannon (with raycast) and a
<code class="docutils literal notranslate"><span class="pre">Quaternion.LookAt</span></code> to that position. The forward vector of this <code class="docutils literal notranslate"><span class="pre">(lookAt</span> <span class="pre">*</span> <span class="pre">Vector3.forward)</span> <span class="pre">+</span> <span class="pre">cameraPos</span></code> converted to screen
space was the form used to get the position of the cannon’s crosshair marker.</p>
<div class="figure align-default">
<img alt="_images/cannon_ui_marker.svg" src="_images/cannon_ui_marker.svg" /></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="creating_vehicle.html" class="btn btn-neutral float-right" title="Create your own MBT Vehicle" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ruan Lucas.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>